def is_valid(board, row, col, c):
    for i in range(9):
        if board[i][col] == c:
            return False

        if board[row][i] == c:
            return False

        if board[3 * (row // 3) + i // 3][3 * (col // 3) + i % 3] == c:
            return False
    
    return True

ans = []

def solve(board):
    global ans
    for i in range(len(board)):
        for j in range(len(board[0])):

            if board[i][j] == '.':
                for c in range(1, 10):
                    if is_valid(board, i, j, c):
                        board[i][j] = c

                        if solve(board) == True:
                            ans = board
                            return True
                        else:
                            board[i][j] = '.'
                return False
    return True



# board = [
#     [5, 3, '.', 6, 7, 8, 9, 1, 2], 
#     [6, 7, 2, 1, 9, 5, 3, 4, 8], 
#     ['.', 9, 8, 3, 4, 2, 5, 6, 7], 
#     [8, 5, 9, 7, 6, 1, 4, 2, 3], 
#     [4, 2, 6, 8, 5, 3, 7, 9, 1], 
#     [7, 1, 3, 9, '.', 4, 8, '.', 6], 
#     [9, 6, '.', 5, 3, 7, 2, 8, 4], 
#     [2, 8, 7, 4, 1, 9, 6, 3, 5], 
#     [3, 4, 5, 2, 8, 6, 1, 7, 9]
# ]

# for i in board:
#     print(i)

# print(solve(board))

# for i in ans:
#     print(i)



# ------------------------------------------------------

# board = [
#     [2, 5, '.', '.', 3, '.', 9, '.', 1],
#     ['.', 1, '.', '.', '.', 4, '.', '.', '.'],
#     [4, '.', 7, '.', '.', '.', 2, '.', 8],
#     ['.', '.', 5, 2, '.', '.', '.', '.', '.'],
#     ['.', '.', '.', '.', 9, 8, 1, '.', '.'],
#     ['.', 4, '.', '.', '.', 3, '.', '.', '.'],
#     ['.', '.', '.', 3, 6, '.', '.', 7, 2],
#     ['.', 7, '.', '.', '.', '.', '.', '.', 3],
#     [9, '.', 3, '.', '.', '.', 6, '.', 4]
#     ]

# for i in board:
#     print(i)

# print(solve(board))

# for i in ans:
#     print(i)

# ------------------------------------------------------



board = [
    [8, '.', 4, '.', '.', '.', '.', '.', '.'],
    ['.', '.', '.', '.', '.', '.', '.', 3, '.'],
    ['.', '.', '.', '.', '.', 3, '.', '.', '.'],
    [9, '.', '.', '.', '.', '.', '.', '.', '.'],
    ['.', '.', '.', 8, '.', '.', 7, '.', '.'],
    ['.', 2, '.', '.', '.', '.', '.', '.', '.'],
    ['.', '.', '.', 2, '.', '.', '.', 6, '.'],
    ['.', '.', '.', '.', '.', '.', '.', '.', '.'],
    ['.', 1, '.', '.', '.', 9, '.', '.', '.'],

    ]

for i in board:
    print(i)

print(solve(board))

for i in ans:
    print(i)

